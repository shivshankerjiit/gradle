plugins {
    id 'groovy'
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.3.11'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

task ('hello2').doLast {
    println 'Hellow World'
}

task hello(type:Copy) {
    from (zipTree("PMOAM.war"))
    into 'Ext2'
}

task hello3(type:Copy) {
    from (zipTree("PMOAM.war")) {
        eachFile { fcd ->
            String[] seg = fcd.relativePath.segments.collect { String s ->
                if(s.equals('Ext')) 'Ext2'
                else s
            }
            println seg
            //fcd.relativePath = new RelativePath(true,fcd.relativePath.segments.drop(1))
            fcd.relativePath = new RelativePath(true,seg)
        }
        includeEmptyDirs = false
    }
    into 'extracted'
}
